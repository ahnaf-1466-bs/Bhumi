"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[778],{7778:(H,T,s)=>{s.r(T),s.d(T,{CourseActivityModule:()=>ct});var x=s(6895),D=s(4859),e=s(4650);let S=(()=>{class i{constructor(){this._listeners=[]}notify(t,n){for(let a of this._listeners)a(t,n)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(n=>t!==n)}}ngOnDestroy(){this._listeners=[]}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var _=s(1281),M=s(7579),re=s(727);let ce=0;const Z=new e.OlP("CdkAccordion");let de=(()=>{class i{constructor(){this._stateChanges=new M.x,this._openCloseAllActions=new M.x,this.id="cdk-accordion-"+ce++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=(0,_.Ig)(t)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=e.lG2({type:i,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[e._Bn([{provide:Z,useExisting:i}]),e.TTD]}),i})(),le=0,pe=(()=>{class i{constructor(t,n,a){this.accordion=t,this._changeDetectorRef=n,this._expansionDispatcher=a,this._openCloseAllSubscription=re.w0.EMPTY,this.closed=new e.vpe,this.opened=new e.vpe,this.destroyed=new e.vpe,this.expandedChange=new e.vpe,this.id="cdk-accordion-child-"+le++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=a.listen((r,c)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===c&&this.id!==r&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=(0,_.Ig)(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,_.Ig)(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Z,12),e.Y36(e.sBO),e.Y36(S))},i.\u0275dir=e.lG2({type:i,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[e._Bn([{provide:Z,useValue:void 0}])]}),i})(),L=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();var ue=s(4080),Q=s(3238),g=s(7340);let he=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[x.ez,Q.BQ,L,ue.eL]}),i})();var N=s(7392),P=s(5589),j=s(2687),me=s(445),G=s(9521),fe=s(3353),ge=s(4968),_e=s(6451),k=s(9300),J=s(4004),$=s(9718),I=s(2722),ve=s(1884),q=s(5698),K=s(8675),xe=s(8372);const X=["*"],ye=["content"];function Ce(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a._onBackdropClicked())}),e.qZA()}if(2&i){const t=e.oxw();e.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function we(i,o){1&i&&(e.TgZ(0,"mat-drawer-content"),e.Hsn(1,2),e.qZA())}const Me=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],be=["mat-drawer","mat-drawer-content","*"],Ae={transformDrawer:(0,g.X$)("transform",[(0,g.SB)("open, open-instant",(0,g.oB)({transform:"none",visibility:"visible"})),(0,g.SB)("void",(0,g.oB)({"box-shadow":"none",visibility:"hidden"})),(0,g.eR)("void => open-instant",(0,g.jt)("0ms")),(0,g.eR)("void <=> open, open-instant => void",(0,g.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Se=new e.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Ie(){return!1}}),ee=new e.OlP("MAT_DRAWER_CONTAINER");let V=(()=>{class i extends P.PQ{constructor(t,n,a,r,c){super(a,r,c),this._changeDetectorRef=t,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO),e.Y36((0,e.Gpc)(()=>ie)),e.Y36(e.SBq),e.Y36(P.mF),e.Y36(e.R0b))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,n){2&t&&e.Udp("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[e._Bn([{provide:P.PQ,useExisting:i}]),e.qOj],ngContentSelectors:X,decls:1,vars:0,template:function(t,n){1&t&&(e.F$t(),e.Hsn(0))},encapsulation:2,changeDetection:0}),i})(),te=(()=>{class i{constructor(t,n,a,r,c,p,u,m){this._elementRef=t,this._focusTrapFactory=n,this._focusMonitor=a,this._platform=r,this._ngZone=c,this._interactivityChecker=p,this._doc=u,this._container=m,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new M.x,this._animationEnd=new M.x,this._animationState="void",this.openedChange=new e.vpe(!0),this._openedStream=this.openedChange.pipe((0,k.h)(d=>d),(0,J.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,k.h)(d=>d.fromState!==d.toState&&0===d.toState.indexOf("open")),(0,$.h)(void 0)),this._closedStream=this.openedChange.pipe((0,k.h)(d=>!d),(0,J.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,k.h)(d=>d.fromState!==d.toState&&"void"===d.toState),(0,$.h)(void 0)),this._destroyed=new M.x,this.onPositionChanged=new e.vpe,this._modeChanged=new M.x,this.openedChange.subscribe(d=>{d?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,ge.R)(this._elementRef.nativeElement,"keydown").pipe((0,k.h)(d=>d.keyCode===G.hY&&!this.disableClose&&!(0,G.Vb)(d)),(0,I.R)(this._destroyed)).subscribe(d=>this._ngZone.run(()=>{this.close(),d.stopPropagation(),d.preventDefault()}))}),this._animationEnd.pipe((0,ve.x)((d,v)=>d.fromState===v.fromState&&d.toState===v.toState)).subscribe(d=>{const{fromState:v,toState:h}=d;(0===h.indexOf("open")&&"void"===v||"void"===h&&0===v.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=(0,_.Ig)(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=(0,_.Ig)(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle((0,_.Ig)(t))}_forceFocus(t,n){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const a=()=>{t.removeEventListener("blur",a),t.removeEventListener("mousedown",a),t.removeAttribute("tabindex")};t.addEventListener("blur",a),t.addEventListener("mousedown",a)})),t.focus(n)}_focusByCssSelector(t,n){let a=this._elementRef.nativeElement.querySelector(t);a&&this._forceFocus(a,n)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,n){t&&n&&(this._openedVia=n);const a=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),a}_setOpen(t,n,a){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(a)),this._updateFocusTrapState(),new Promise(r=>{this.openedChange.pipe((0,q.q)(1)).subscribe(c=>r(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const n=this._elementRef.nativeElement,a=n.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),a.insertBefore(this._anchor,n)),a.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(j.qV),e.Y36(j.tE),e.Y36(fe.t4),e.Y36(e.R0b),e.Y36(j.ic),e.Y36(x.K0,8),e.Y36(ee,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mat-drawer"]],viewQuery:function(t,n){if(1&t&&e.Gf(ye,5),2&t){let a;e.iGM(a=e.CRH())&&(n._content=a.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,n){1&t&&e.WFA("@transform.start",function(r){return n._animationStarted.next(r)})("@transform.done",function(r){return n._animationEnd.next(r)}),2&t&&(e.uIk("align",null),e.d8E("@transform",n._animationState),e.ekj("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:X,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0,1),e.Hsn(2),e.qZA())},dependencies:[P.PQ],encapsulation:2,data:{animation:[Ae.transformDrawer]},changeDetection:0}),i})(),ie=(()=>{class i{constructor(t,n,a,r,c,p=!1,u){this._dir=t,this._element=n,this._ngZone=a,this._changeDetectorRef=r,this._animationMode=u,this._drawers=new e.n_E,this.backdropClick=new e.vpe,this._destroyed=new M.x,this._doCheckSubject=new M.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new M.x,t&&t.change.pipe((0,I.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe((0,I.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=p}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=(0,_.Ig)(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:(0,_.Ig)(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,K.O)(this._allDrawers),(0,I.R)(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,K.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,xe.b)(10),(0,I.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const a=this._left._getWidth();t+=a,n-=a}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._getWidth();else if("push"==this._right.mode){const a=this._right._getWidth();n+=a,t-=a}t=t||null,n=n||null,(t!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:t,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe((0,k.h)(n=>n.fromState!==n.toState),(0,I.R)(this._drawers.changes)).subscribe(n=>{"open-instant"!==n.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe((0,I.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe((0,I.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,q.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe((0,I.R)((0,_e.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const n=this._element.nativeElement.classList,a="mat-drawer-container-has-open";t?n.add(a):n.remove(a)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(me.Is,8),e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(P.rL),e.Y36(Se),e.Y36(e.QbO,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(t,n,a){if(1&t&&(e.Suo(a,V,5),e.Suo(a,te,5)),2&t){let r;e.iGM(r=e.CRH())&&(n._content=r.first),e.iGM(r=e.CRH())&&(n._allDrawers=r)}},viewQuery:function(t,n){if(1&t&&e.Gf(V,5),2&t){let a;e.iGM(a=e.CRH())&&(n._userContent=a.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("mat-drawer-container-explicit-backdrop",n._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[e._Bn([{provide:ee,useExisting:i}])],ngContentSelectors:be,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,n){1&t&&(e.F$t(Me),e.YNc(0,Ce,1,2,"div",0),e.Hsn(1),e.Hsn(2,1),e.YNc(3,we,2,0,"mat-drawer-content",1)),2&t&&(e.Q6J("ngIf",n.hasBackdrop),e.xp6(3),e.Q6J("ngIf",!n._content))},dependencies:[x.O5,V],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),i})(),Te=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[x.ez,Q.BQ,P.ZD,P.ZD,Q.BQ]}),i})();var z=s(9197),Y=s(7274),U=s(3416);let ne=(()=>{class i{constructor(t){this.data=t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Y.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["incomplete-modal"]],decls:11,vars:6,consts:[[1,"infxs:w-60","md:pt-8","md:pb-4","lg:w-100","xl:w-120"],[1,"flex","flex-wrap","items-center"],[1,"material-icons","bg-[#f3f2f2]","rounded-full","p-2","text-3xl","text-[#EC680A]","mx-2","text-center","my-2"],[1,"infxs:text-lg","font-semibold"],[1,"infxs:text-lg","lg:px-14"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h2",1)(2,"i",2),e._uU(3,"lock"),e.qZA(),e.TgZ(4,"p",3),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"h6")(8,"p",4),e._uU(9),e.ALo(10,"translate"),e.qZA()()()),2&t&&(e.xp6(5),e.hij(" ",e.lcZ(6,2,"Sorry! Access Restricted for now.")," "),e.xp6(4),e.hij(" ",e.lcZ(10,4,n.data.message)," "))},dependencies:[U.X$],encapsulation:2}),i})();var Ee=s(780),De=s(9478),Pe=s(51),Oe=s(658),ke=s(8951),Fe=s(7477);const Be=["accordionItem"];function Re(i,o){1&i&&(e.ynx(0),e._UZ(1,"mat-icon",7),e.BQk()),2&i&&(e.xp6(1),e.Q6J("svgIcon","mat_outline:check_circle_vumi_orange"))}function Ne(i,o){1&i&&e._UZ(0,"mat-icon",10),2&i&&e.Q6J("svgIcon","mat_outline:keyboard_arrow_up")}function ze(i,o){1&i&&e._UZ(0,"mat-icon",11),2&i&&e.Q6J("svgIcon","mat_outline:keyboard_arrow_down")}function He(i,o){if(1&i&&(e.YNc(0,Ne,1,1,"mat-icon",8),e.YNc(1,ze,1,1,"mat-icon",9)),2&i){e.oxw();const t=e.MAs(2);e.Q6J("ngIf",t.expanded),e.xp6(1),e.Q6J("ngIf",!t.expanded)}}const Ze=["*"];let Qe=(()=>{class i{constructor(t){this.elementRef=t,this.headerText="Header",this.isOpened=!1,this.isTopicCompleted=!1}ngOnChanges(t){this.isOpened?this.accordionItem?.open():this.accordionItem?.close(),this.headerText&&(this.headerText=this.extractTextFromHtml(this.headerText))}extractTextFromHtml(t){const n=this.elementRef.nativeElement.cloneNode();return n.innerHTML=t,n.textContent||n.innerText||""}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq))},i.\u0275cmp=e.Xpm({type:i,selectors:[["custom-accordion"]],viewQuery:function(t,n){if(1&t&&e.Gf(Be,5),2&t){let a;e.iGM(a=e.CRH())&&(n.accordionItem=a.first)}},inputs:{headerText:"headerText",isOpened:"isOpened",isTopicCompleted:"isTopicCompleted"},features:[e.TTD],ngContentSelectors:Ze,decls:11,vars:5,consts:[[1,"accordion"],["role","button","tabindex","0",1,"accordion-item"],["accordionItem","cdkAccordionItem"],[1,"accordion-item-header",3,"click"],[4,"ngIf","ngIfElse"],["topicNotCompleted",""],["role","region",1,"accordion-item-body"],["aria-hidden","false","aria-label","topic completed",1,"text-vumi-orange","icon-size-3.5","mr-[5px]",3,"svgIcon"],["class","text-vumi-orange","aria-hidden","false","aria-label","menu open",3,"svgIcon",4,"ngIf"],["class","text-vumi-orange","aria-hidden","false","aria-label","menu closed",3,"svgIcon",4,"ngIf"],["aria-hidden","false","aria-label","menu open",1,"text-vumi-orange",3,"svgIcon"],["aria-hidden","false","aria-label","menu closed",1,"text-vumi-orange",3,"svgIcon"]],template:function(t,n){if(1&t){const a=e.EpF();e.F$t(),e.TgZ(0,"cdk-accordion",0)(1,"cdk-accordion-item",1,2)(3,"div",3),e.NdJ("click",function(){e.CHM(a);const c=e.MAs(2);return e.KtG(c.toggle())}),e.TgZ(4,"b"),e._uU(5),e.qZA(),e.YNc(6,Re,2,1,"ng-container",4),e.YNc(7,He,2,2,"ng-template",null,5,e.W1O),e.qZA(),e.TgZ(9,"div",6),e.Hsn(10),e.qZA()()()}if(2&t){const a=e.MAs(2),r=e.MAs(8);e.xp6(5),e.Oqu(n.headerText),e.xp6(1),e.Q6J("ngIf",n.isTopicCompleted)("ngIfElse",r),e.xp6(3),e.Udp("display",a.expanded?"":"none")}},dependencies:[x.O5,de,pe,N.Hw],styles:[".accordion[_ngcontent-%COMP%]{display:grid;width:100%;grid-template-columns:repeat(1,minmax(0,1fr));row-gap:1.25rem}.accordion-item[_ngcontent-%COMP%]{display:block}.accordion-item-header[_ngcontent-%COMP%]{border:solid 1px #F3F3F3;display:flex;align-content:center;align-items:center;justify-content:space-between;background-color:#fbfbfb;--tw-border-opacity: 1;border-color:rgb(242 242 242 / var(--tw-border-opacity))}.accordion-item-description[_ngcontent-%COMP%]{font-size:.85em;color:#999}.accordion-item-header[_ngcontent-%COMP%]{padding:16px}@media (min-width: 0px){.accordion-item-header[_ngcontent-%COMP%]{padding-right:2.6rem}}@media (min-width: 960px){.accordion-item-header[_ngcontent-%COMP%]{padding-right:2.1rem}}.accordion-item-body[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem}@media (min-width: 0px){.accordion-item-body[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}}@media (min-width: 960px){.accordion-item-body[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}.accordion-item-header[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#eee}"]}),i})();function je(i,o){1&i&&(e.ynx(0),e._UZ(1,"mat-icon",13),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk()),2&i&&(e.xp6(1),e.Q6J("svgIcon","mat_outline:hide_left_menu"),e.xp6(2),e.Oqu(e.lcZ(4,2,"Hide Course Overview")))}function Ve(i,o){1&i&&(e._UZ(0,"mat-icon",13),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&i&&(e.Q6J("svgIcon","mat_outline:hide_left_menu"),e.xp6(2),e.Oqu(e.lcZ(3,2,"View Course Overview")))}function Ye(i,o){1&i&&(e.ynx(0),e._UZ(1,"mat-icon",20),e.BQk()),2&i&&(e.xp6(1),e.Q6J("svgIcon","mat_outline:check_circle_vumi_blue"))}function Ue(i,o){if(1&i&&(e.TgZ(0,"span"),e.YNc(1,Ye,2,1,"ng-container",19),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!0===n.activityStatus.get(t.id))}}const oe=function(i){return{"bg-[#FFF3F1] border-l-4 border-vumi-orange":i}};function Le(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"p",16),e.NdJ("click",function(){const a=e.CHM(t),r=a.$implicit,c=a.index,p=e.oxw().index,u=e.oxw(2);return e.KtG(u.clickActivityFromMenu(r,c,p))}),e.TgZ(1,"span",17)(2,"span")(3,"b",18),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA()(),e.YNc(8,Ue,2,1,"span",19),e.qZA()()}if(2&i){const t=o.$implicit,n=e.oxw(3);e.Q6J("ngClass",e.VKq(6,oe,n.currentActivityId==t.id)),e.xp6(4),e.Oqu(e.lcZ(5,4,n.getActivityTypeInMenu(t))+": "),e.xp6(3),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",n.activityStatus.size>0&&void 0!==n.activityStatus.get(t.id))}}function We(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"custom-accordion",14)(2,"div",10),e.YNc(3,Le,9,8,"p",15),e.qZA()(),e.BQk()),2&i){const t=o.$implicit,n=o.index,a=e.oxw(2);e.xp6(1),e.Q6J("isTopicCompleted",a.topicStatus.get(t.id))("headerText",n+1+". "+t.name)("isOpened",t.id==a.currentTopicId),e.xp6(2),e.Q6J("ngForOf",t.modules)}}const Ge=function(i){return{" bg-white shadow-lg":i}};function Je(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"button",3),e.NdJ("click",function(){e.CHM(t);const a=e.MAs(8);return e.KtG(a.toggle())}),e.TgZ(2,"div",4),e.YNc(3,je,5,4,"ng-container",5),e.YNc(4,Ve,4,4,"ng-template",null,6,e.W1O),e.qZA()(),e.TgZ(6,"mat-drawer-container",7)(7,"mat-drawer",8,9)(9,"p",10),e.YNc(10,We,4,4,"ng-container",11),e.qZA()(),e.TgZ(11,"div",12),e._UZ(12,"router-outlet"),e.qZA()()()}if(2&i){const t=e.MAs(5),n=e.MAs(8),a=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(4,Ge,n.opened)),e.xp6(2),e.Q6J("ngIf",n.opened)("ngIfElse",t),e.xp6(7),e.Q6J("ngForOf",a.allTopics)}}function $e(i,o){1&i&&(e.ynx(0),e._UZ(1,"mat-icon",13),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk()),2&i&&(e.xp6(1),e.Q6J("svgIcon","mat_outline:hide_left_menu"),e.xp6(2),e.Oqu(e.lcZ(4,2,"Hide Course Overview")))}function qe(i,o){1&i&&(e._UZ(0,"mat-icon",13),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&i&&(e.Q6J("svgIcon","mat_outline:hide_left_menu"),e.xp6(2),e.Oqu(e.lcZ(3,2,"View Course Overview")))}function Ke(i,o){1&i&&(e.ynx(0),e._UZ(1,"mat-icon",20),e.BQk()),2&i&&(e.xp6(1),e.Q6J("svgIcon","mat_outline:check_circle_vumi_blue"))}function Xe(i,o){if(1&i&&(e.TgZ(0,"span"),e.YNc(1,Ke,2,1,"ng-container",19),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!0===n.activityStatus.get(t.id))}}function et(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"p",16),e.NdJ("click",function(){const a=e.CHM(t),r=a.$implicit,c=a.index,p=e.oxw().index,u=e.oxw(2);return e.KtG(u.clickActivityFromMenu(r,c,p))}),e.TgZ(1,"span",27)(2,"span")(3,"b",18),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA()(),e.YNc(8,Xe,2,1,"span",19),e.qZA()()}if(2&i){const t=o.$implicit,n=e.oxw(3);e.Q6J("ngClass",e.VKq(6,oe,n.currentActivityId==t.id)),e.xp6(4),e.Oqu(e.lcZ(5,4,n.getActivityTypeInMenu(t))+": "),e.xp6(3),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",n.activityStatus.size>0&&void 0!==n.activityStatus.get(t.id))}}function tt(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"custom-accordion",14)(2,"div",10),e.YNc(3,et,9,8,"p",15),e.qZA()(),e.BQk()),2&i){const t=o.$implicit,n=o.index,a=e.oxw(2);e.xp6(1),e.Q6J("isTopicCompleted",a.topicStatus.get(t.id))("headerText",n+1+". "+t.name)("isOpened",t.id==a.currentTopicId),e.xp6(2),e.Q6J("ngForOf",t.modules)}}const it=function(i){return{hidden:i}};function nt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",21)(1,"div",22),e._UZ(2,"router-outlet"),e.qZA(),e.TgZ(3,"button",23),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.showAccordion=!a.showAccordion)}),e.TgZ(4,"div",24),e.YNc(5,$e,5,4,"ng-container",5),e.YNc(6,qe,4,4,"ng-template",null,25,e.W1O),e.qZA()(),e.TgZ(8,"p",26),e.YNc(9,tt,4,4,"ng-container",11),e.qZA()()}if(2&i){const t=e.MAs(7),n=e.oxw();e.xp6(5),e.Q6J("ngIf",n.showAccordion)("ngIfElse",t),e.xp6(3),e.Q6J("ngClass",e.VKq(4,it,!n.showAccordion)),e.xp6(1),e.Q6J("ngForOf",n.allTopics)}}let ot=(()=>{class i{constructor(t,n,a,r,c,p,u,m,d,v){this.activatedRoute=t,this.activityApiService=n,this.router=a,this.quizApiService=r,this.getActivityStatus=c,this.activityCompletion=p,this.dialog=u,this.translateService=m,this.authService=d,this.getCertificateApi=v,this.showAccordion=!0,this.isMobileWidth=!1,this.activityStatus=new Map,this.topicStatus=new Map,this.activatedRoute.queryParams.subscribe(h=>{this.currentActivityId=h.activity,this.currentTopicId=h.topic}),this.activityCompletion.activityStatus$.subscribe(h=>{this.activityStatus.set(h,!0),this.updateAllTopicsStatus()})}openIncompleteActivityModal(){this.dialog.open(ne,{data:{message:"You cannot access this activity without completing the previous one."}})}openIncompleteCourseModal(){this.dialog.open(ne,{data:{message:"Complete all activities for your certificate!"}})}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.isMobileWidth=window.innerWidth<960,this.courseId=t.get("id"),this.quizApiService.getQuiz(localStorage.getItem("auth-token"),this.courseId).subscribe(n=>{this.quiz=n,this.quizId=n&&n.quizzes&&n.quizzes.length>0?n.quizzes[0].id:void 0,this.activityApiService.getActivities(this.courseId).subscribe(a=>{if(this.allTopics=a.slice(1),console.log("this.allTopics",this.allTopics),"bn"===this.translateService.getDefaultLang()&&this.allTopics.forEach(r=>{r.name=r.summary,r.modules.forEach(c=>{this.activityApiService.getBengaliDetailsActivity(c.id).subscribe(p=>{c.name=p.results[0].category_details[0].field_value})})}),this.userId=localStorage.getItem("user-id"),this.getActivityStatus.getActivityStatus(this.courseId,this.userId).subscribe(r=>{const c=r.statuses;console.log("activitieStatuses",c);for(let p of c)this.activityStatus.set(p.cmid,"quiz"===p.modname?2==p.state:0!=p.state);this.updateAllTopicsStatus()}),this.allTopics[0].modules){this.modules=this.allTopics[0].modules;const r=this.allTopics[0].id,c=this.getLastActivity(this.userId,this.courseId);if(c)"quiz"===c.type?(console.log("navigating to quiz"),this.router.navigate(["quiz"],{relativeTo:this.activatedRoute,queryParams:{id:c.quizId,course:this.courseId,activity:c.activityId,topic:c.topicId}})):(console.log("navigating to others"),this.router.navigate([c.type],{relativeTo:this.activatedRoute,queryParams:{course:this.courseId,activity:c.activityId,topic:c.topicId}}));else if(null===this.activatedRoute.firstChild&&this.modules&&this.modules.length>0)if(this.activityId=this.modules[0].id,this.moduleName=this.modules[0].modname,this.contents=this.modules[0]?.contents?.[0],this.moduleType=this.contents?.mimetype,"resource"===this.moduleName){let p="";this.moduleType.includes("pdf")?p="pdf":this.moduleType.includes("video")&&(p="video"),this.router.navigate([`${p}`],{relativeTo:this.activatedRoute,queryParams:{course:this.courseId,activity:this.activityId,topic:r}})}else"quiz"===this.moduleName?this.router.navigate(["quiz"],{relativeTo:this.activatedRoute,queryParams:{id:this.quizId,course:this.courseId,activity:this.activityId,topic:r}}):"zoom"===this.moduleName?this.router.navigate(["meeting"],{relativeTo:this.activatedRoute,queryParams:{course:this.courseId,activity:this.activityId,topic:r}}):"videoplus"===this.moduleName&&this.router.navigate(["videoplus"],{relativeTo:this.activatedRoute,queryParams:{course:this.courseId,activity:this.activityId,topic:r}})}})})})}onResize(t){this.isMobileWidth=window.innerWidth<960}updateAllTopicsStatus(){const t=this.allTopics?.map(a=>a.id),n=a=>this.activityStatus.get(a.id);if(t)for(let a of t){const r=this.allTopics.find(c=>c.id===a).modules.filter(c=>"customcert"!==c.modname);this.topicStatus.set(a,r.length>0&&r.every(n))}}clickActivityFromMenu(t,n,a){const r=this.allTopics[a].modules,c=this.allTopics[a].id;if(n>0&&r?.length>0){console.log("if module clicked is not the 1st one of its topic");const p=r[n-1],u=p.modname,m=p.contents?.[0].mimetype,d=p.id;"resource"===u&&(m.includes("pdf")||m.includes("video"))?(this.userId=localStorage.getItem("user-id"),this.getActivityStatus.getActivityStatus(this.courseId,this.userId).subscribe(h=>{if(h.exception||h.errorcode)return this.authService.signOut(),void this.router.navigate(["login"]);let b=h.statuses;for(let l of b)if(l.cmid==d){if(0==l.state)return console.log("user CANNOT view the module if prev is pdf or video,course.state:",l.state),void this.openIncompleteActivityModal();console.log("user can continue viewing the module if prev is pdf or video,course.state:",l.state),this.navigateToModule(t,c)}})):"quiz"===u?(this.userId=localStorage.getItem("user-id"),this.getActivityStatus.getActivityStatus(this.courseId,this.userId).subscribe(h=>{if(h.exception||h.errorcode)return this.authService.signOut(),void this.router.navigate(["login"]);let b,l;for(let C of h.statuses)C.cmid==d&&(b=C.details);if(b.length>=2){if(l=b[b.length-1].rulevalue.status,2!=l)return console.log("user CANNOT view the module if prev is quiz,status:",l),void this.openIncompleteActivityModal();console.log("user can continue viewing the module if prev is quiz,status:",l),this.navigateToModule(t,c)}})):"zoom"===u?(this.userId=localStorage.getItem("user-id"),this.getActivityStatus.getActivityStatus(this.courseId,this.userId).subscribe(h=>{if(h.exception||h.errorcode)return this.authService.signOut(),void this.router.navigate(["login"]);let b=h.statuses;for(let l of b)if(l.cmid==d){if(0==l.state)return console.log("user CANNOT view the module if prev is meeting,course.state:",l.state),void this.openIncompleteActivityModal();console.log("user can continue viewing the module if prev is meeting,course.state:",l.state),this.navigateToModule(t,c)}})):"coursefeedback"===u?this.getActivityStatus.getActivityStatus(this.courseId,this.userId).subscribe(h=>{if(h.exception||h.errorcode)return this.authService.signOut(),void this.router.navigate(["login"]);let b=h.statuses;for(let l of b)if(l.cmid==d){if(0==l.state)return console.log("user CANNOT view the module if prev is coursefeedback,course.state:",l.state),void this.openIncompleteCourseModal();console.log("user can continue viewing the module if prev is coursefeedback,course.state:",l.state),this.navigateToModule(t,c)}}):"videoplus"===u&&this.getActivityStatus.getActivityStatus(this.courseId,this.userId).subscribe(h=>{if(h.exception||h.errorcode)return this.authService.signOut(),void this.router.navigate(["login"]);let b=h.statuses;for(let l of b)if(l.cmid==d){if(0==l.state)return console.log("user CANNOT view the module if prev is coursefeedback,course.state:",l.state),void this.openIncompleteActivityModal();console.log("user can continue viewing the module if prev is coursefeedback,course.state:",l.state),this.navigateToModule(t,c)}})}else if(a-1>=0&&this.allTopics[a-1]?.modules.length>0){console.log("if module clicked has a previous module on its previous topic");const p=this.allTopics[a-1].modules,m=p[p.length-1],d=m.modname,v=m.contents?.[0].mimetype,h=m.id;"resource"===d&&(v.includes("pdf")||v.includes("video"))?(this.userId=localStorage.getItem("user-id"),this.getActivityStatus.getActivityStatus(this.courseId,this.userId).subscribe(l=>{if(l.exception||l.errorcode)return this.authService.signOut(),void this.router.navigate(["login"]);let C=l.statuses;for(let f of C)if(f.cmid==h){if(0==f.state)return console.log("user CANNOT view the module if prev is pdf or video,course.state:",f.state),void this.openIncompleteActivityModal();console.log("user can continue viewing the module if prev is pdf or video,course.state:",f.state),this.navigateToModule(t,c)}})):"quiz"===d?(this.userId=localStorage.getItem("user-id"),this.getActivityStatus.getActivityStatus(this.courseId,this.userId).subscribe(l=>{if(l.exception||l.errorcode)return this.authService.signOut(),void this.router.navigate(["login"]);let C,f;for(let se of l.statuses)se.cmid==h&&(C=se.details);if(C.length>=2){if(f=C[C.length-1].rulevalue.status,2!=f)return console.log("user CANNOT view the module if prev is quiz,status:",f),void this.openIncompleteActivityModal();console.log("user can continue viewing the module if prev is quiz,status:",f),this.navigateToModule(t,c)}})):"zoom"===d?(this.userId=localStorage.getItem("user-id"),this.getActivityStatus.getActivityStatus(this.courseId,this.userId).subscribe(l=>{if(l.exception||l.errorcode)return this.authService.signOut(),void this.router.navigate(["login"]);let C=l.statuses;for(let f of C)if(f.cmid==h){if(0==f.state)return console.log("user CANNOT view the module if prev is meeting,course.state:",f.state),void this.openIncompleteActivityModal();console.log("user can continue viewing the module if prev is meeting,course.state:",f.state),this.navigateToModule(t,c)}})):"coursefeedback"===d?this.getActivityStatus.getActivityStatus(this.courseId,this.userId).subscribe(l=>{if(l.exception||l.errorcode)return this.authService.signOut(),void this.router.navigate(["login"]);let C=l.statuses;for(let f of C)if(f.cmid==h){if(0==f.state)return console.log("user CANNOT view the module if prev is coursefeedback,course.state:",f.state),void this.openIncompleteCourseModal();console.log("user can continue viewing the module if prev is coursefeedback,course.state:",f.state),this.navigateToModule(t,c)}}):"videoplus"===d&&this.getActivityStatus.getActivityStatus(this.courseId,this.userId).subscribe(l=>{if(l.exception||l.errorcode)return this.authService.signOut(),void this.router.navigate(["login"]);let C=l.statuses;for(let f of C)if(f.cmid==h){if(0==f.state)return console.log("user CANNOT view the module if prev is coursefeedback,course.state:",f.state),void this.openIncompleteActivityModal();console.log("user can continue viewing the module if prev is coursefeedback,course.state:",f.state),this.navigateToModule(t,c)}})}else console.log("user can access very 1st module always"),this.navigateToModule(t,c)}navigateToModule(t,n){const a=t.modname,r=t.contents?.[0].mimetype,c=t.id,p=t.instance;if("resource"===a){let u="";r.includes("pdf")?u="pdf":r.includes("video")&&(u="video"),this.router.navigate([`course-activity/${this.courseId}/${u}`],{queryParams:{course:this.courseId,activity:c,topic:n}})}else"quiz"===a?this.router.navigate([`course-activity/${this.courseId}/quiz`],{queryParams:{id:p,course:this.courseId,activity:c,topic:n}}):"coursefeedback"==a?this.router.navigate([`course-activity/${this.courseId}/feedback`],{queryParams:{course:this.courseId,activity:c,topic:n}}):"zoom"===a?this.router.navigate([`course-activity/${this.courseId}/meeting`],{queryParams:{course:this.courseId,activity:c,topic:n}}):"customcert"===a?(this.userId=localStorage.getItem("user-id"),this.getCertificateApi.getCertificate(this.courseId,this.userId).subscribe(u=>{u.url?window.open(u.url,"_blank"):(console.log("certificate url not found"),this.openIncompleteCourseModal())})):"videoplus"===a&&this.router.navigate([`course-activity/${this.courseId}/video-pdf`],{queryParams:{course:this.courseId,activity:c,topic:n}})}getLastActivity(t,n){return JSON.parse(localStorage.getItem(JSON.stringify({userId:t,courseId:n})))}getActivityTypeInMenu(t){return"resource"===t.modname?t.contents?.[0].mimetype.includes("pdf")?"pdf":"video":"videoplus"===t.modname?"video":"coursefeedback"===t.modname?"feedback":"customcert"===t.modname?"certificate":t.modname}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(z.gz),e.Y36(Ee.I),e.Y36(z.F0),e.Y36(De.v),e.Y36(Pe.o),e.Y36(Oe.B),e.Y36(Y.uw),e.Y36(U.sK),e.Y36(ke.e),e.Y36(Fe.G))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-course-activity"]],hostBindings:function(t,n){1&t&&e.NdJ("resize",function(r){return n.onResize(r)},!1,e.Jf7)},decls:2,vars:2,consts:[["class","hidden md:block",4,"ngIf"],["class","md:hidden",4,"ngIf"],[1,"hidden","md:block"],["type","button",1,"p-4","pl-24","w-96","text-vumi-orange",3,"ngClass","click"],[1,"flex","items-center","justify-start","gap-1"],[4,"ngIf","ngIfElse"],["drawerClosed",""],["autosize","",1,"container"],["mode","side","opened","true",1,"sidenav"],["drawer",""],[1,"grid","grid-cols-1","gap-5"],[4,"ngFor","ngForOf"],[1,"px-5"],["aria-hidden","false","aria-label","menu open",1,"text-vumi-orange",3,"svgIcon"],[3,"isTopicCompleted","headerText","isOpened"],["class","p-2 cursor-pointer text-left pr-10",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-2","cursor-pointer","text-left","pr-10",3,"ngClass","click"],[1,"flex","justify-between","items-center"],[1,"capitalize"],[4,"ngIf"],["aria-hidden","false","aria-label","activity completed",1,"icon-size-3.5",3,"svgIcon"],[1,"md:hidden"],[1,"px-4"],["type","button",1,"p-4","mb-2","text-vumi-orange",3,"click"],[1,"flex","items-center","justify-center","gap-1"],["accordionClosed",""],[1,"grid","grid-cols-1","gap-5","pb-4",3,"ngClass"],[1,"flex","justify-between"]],template:function(t,n){1&t&&(e.YNc(0,Je,13,6,"div",0),e.YNc(1,nt,10,6,"div",1)),2&t&&(e.Q6J("ngIf",!n.isMobileWidth),e.xp6(1),e.Q6J("ngIf",n.isMobileWidth))},dependencies:[x.mk,x.sg,x.O5,z.lC,N.Hw,te,ie,Qe,U.X$],styles:[".course-overview[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(229 80 55 / var(--tw-text-opacity))}.drawer-container[_ngcontent-%COMP%]{width:100%;height:100%}.mat-mdc-button[_ngcontent-%COMP%], .mat-mdc-raised-button[_ngcontent-%COMP%], .mat-mdc-outlined-button[_ngcontent-%COMP%], .mat-mdc-unelevated-button[_ngcontent-%COMP%]{border-radius:.5rem!important}.container[_ngcontent-%COMP%]{width:100%;height:100vh}.sidenav-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}.sidenav[_ngcontent-%COMP%]{padding-left:20px;background-color:transparent;padding-bottom:2.5rem}@media (min-width: 960px){.sidenav[_ngcontent-%COMP%]{width:24rem;padding-left:5rem}}.mat-drawer[_ngcontent-%COMP%]{background-color:#fff!important;border:none!important;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}"]}),i})();const st=[{path:"",canActivate:[s(5942).g],component:ot,children:[{path:"pdf",loadChildren:()=>s.e(586).then(s.bind(s,2586)).then(i=>i.PdfActivityModule)},{path:"video",loadChildren:()=>Promise.all([s.e(592),s.e(231)]).then(s.bind(s,8231)).then(i=>i.VideoActivityModule)},{path:"video-pdf",loadChildren:()=>Promise.all([s.e(592),s.e(287)]).then(s.bind(s,5287)).then(i=>i.VideoPdfActivityModule)},{path:"quiz",loadChildren:()=>Promise.all([s.e(592),s.e(136)]).then(s.bind(s,6136)).then(i=>i.QuizActivityModule)},{path:"feedback",loadChildren:()=>s.e(188).then(s.bind(s,2188)).then(i=>i.FeedbackActivityModule)},{path:"meeting",loadChildren:()=>s.e(144).then(s.bind(s,6144)).then(i=>i.MeetModule)}]}];var ae=s(1056);let rt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[x.ez,L,N.Ps,ae.m]}),i})(),ct=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[x.ez,z.Bz.forChild(st),he,N.Ps,Te,D.ot,rt,Y.Is,ae.m]}),i})()},51:(H,T,s)=>{s.d(T,{o:()=>F});var x=s(2340),D=s(3900),e=s(9646),y=s(4650),O=s(529),E=s(9197);let F=(()=>{class w{constructor(A,S){this.http=A,this.router=S}getActivityStatus(A,S){let R=localStorage.getItem("auth-token"),_=new FormData;return _.append("wsfunction","core_completion_get_activities_completion_status"),_.append("wstoken",R),_.append("moodlewsrestformat","json"),_.append("courseid",A),_.append("userid",S),this.http.post(`${x.N.baseURL}/webservice/rest/server.php`,_).pipe((0,D.w)(M=>(0,e.of)(M)))}}return w.\u0275fac=function(A){return new(A||w)(y.LFG(O.eN),y.LFG(E.F0))},w.\u0275prov=y.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})()},7477:(H,T,s)=>{s.d(T,{G:()=>F});var x=s(2340),D=s(3900),e=s(9646),y=s(4650),O=s(529),E=s(9197);let F=(()=>{class w{constructor(A,S){this.http=A,this.router=S}getCertificate(A,S){let R=localStorage.getItem("auth-token"),_=new FormData;return _.append("wsfunction","vumi_webservicesuit_certificate_url_by_courseid_userid"),_.append("wstoken",R),_.append("moodlewsrestformat","json"),_.append("courseid",A),_.append("userid",S),this.http.post(`${x.N.baseURL}/webservice/rest/server.php`,_).pipe((0,D.w)(M=>(0,e.of)(M)))}}return w.\u0275fac=function(A){return new(A||w)(y.LFG(O.eN),y.LFG(E.F0))},w.\u0275prov=y.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})()},658:(H,T,s)=>{s.d(T,{B:()=>e});var x=s(7579),D=s(4650);let e=(()=>{class y{constructor(){this.activitySubject=new x.x,this.activityStatus$=this.activitySubject.asObservable()}updateActivityStatus(E){this.activitySubject.next(E)}}return y.\u0275fac=function(E){return new(E||y)},y.\u0275prov=D.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()}}]);