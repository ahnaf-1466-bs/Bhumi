"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[898],{2898:(B,h,l)=>{l.r(h),l.d(h,{ProfileModule:()=>H});var f=l(6895),m=l(9197),b=l(1056),e=l(4650),x=l(7274);let Z=(()=>{class i{constructor(t,o){this._router=t,this.dialogRef=o}goTo(){this.dialogRef.close(),this._router.navigate(["courses"]).then(()=>{window.location.reload()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.F0),e.Y36(x.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-update-successful-modal"]],decls:7,vars:0,consts:[[1,"w-60","md:pt-8","md:pb-4","lg:w-100","xl:w-120"],[1,"flex","flex-wrap","items-center","justify-center"],[1,"text-center"],[1,"text-green-600","text-xl","md:text-2xl"],[1,"mx-auto","mt-4","text-white","font-semibold","py-2","px-4","bg-vumi-blue","button-vumi",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4," Successfully Updated The Profile "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return o.goTo()}),e._uU(6," OK "),e.qZA()()()())}}),i})();var C=l(529),T=l(8951),M=l(7678),d=l(4006),A=l(3416);const y=["UpdateProfileForm"];function J(i,s){1&i&&(e.TgZ(0,"div",34)(1,"p",35),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"*Please fill up the form to continue")," "))}function q(i,s){1&i&&(e.TgZ(0,"div",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"*First Name is required")," "))}function w(i,s){if(1&i&&(e.TgZ(0,"div",22),e.YNc(1,q,3,3,"div",23),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",""==t.user.firstName)}}function P(i,s){1&i&&(e.TgZ(0,"div",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"*Last Name Name is required")," "))}function N(i,s){if(1&i&&(e.TgZ(0,"div",22),e.YNc(1,P,3,3,"div",23),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",""==t.user.lastName)}}function Q(i,s){1&i&&(e.TgZ(0,"div",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"*Contact number is required")," "))}function E(i,s){1&i&&(e.TgZ(0,"div",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"*Contact number must be 11 characters long")," "))}function U(i,s){1&i&&(e.TgZ(0,"div",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"*Designation is required")," "))}function S(i,s){if(1&i&&(e.TgZ(0,"div",22),e.YNc(1,U,3,3,"div",23),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",""==t.user.designation)}}function I(i,s){if(1&i&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.iso2),e.xp6(1),e.hij(" ",t.name," ")}}function L(i,s){1&i&&(e.TgZ(0,"div",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"*Country is required")," "))}function j(i,s){1&i&&(e.TgZ(0,"div",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"*City is required")," "))}function K(i,s){1&i&&(e.TgZ(0,"div",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"*Address is required. This address will be used for certificate delivery")," "))}function O(i,s){1&i&&(e.TgZ(0,"button",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Submit")," "))}function Y(i,s){1&i&&(e.TgZ(0,"button",40),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.Q6J("disabled",!0),e.xp6(1),e.hij(" ",e.lcZ(2,2,"Submit")," "))}function F(i,s){1&i&&(e.TgZ(0,"div",41),e._UZ(1,"div",42),e.qZA())}const p=function(i){return{"border-bottom":i}},a=function(){return{standalone:!0}},u=function(i){return{"-top-6":i}},V=function(){return{"border-bottom":"2px solid #263a7f"}};function D(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3),e._UZ(2,"img",4)(3,"img",5),e.qZA(),e.TgZ(4,"div",6)(5,"div",7)(6,"h6",8),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.YNc(9,J,4,3,"div",9),e.TgZ(10,"form",10,11),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateProfile())}),e.TgZ(12,"div",12)(13,"div",13)(14,"div",14)(15,"div",15)(16,"input",16),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.user.firstName=n)}),e.qZA(),e.TgZ(17,"label",17),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.YNc(20,w,2,1,"div",18),e.TgZ(21,"div",13)(22,"div",14)(23,"div",15)(24,"input",16),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.user.lastName=n)}),e.qZA(),e.TgZ(25,"label",17),e._uU(26),e.ALo(27,"translate"),e.qZA()()()(),e.YNc(28,N,2,1,"div",18),e.TgZ(29,"div",13)(30,"div",14)(31,"div",15)(32,"input",19),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.user.username=n)}),e.qZA(),e.TgZ(33,"label",17),e._uU(34),e.ALo(35,"translate"),e.qZA()()()(),e.TgZ(36,"div",13)(37,"div",14)(38,"div",15)(39,"input",20),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.user.phone=n)}),e.qZA(),e.TgZ(40,"label",21),e._uU(41),e.ALo(42,"translate"),e.qZA()()()(),e.TgZ(43,"div",22),e.YNc(44,Q,3,3,"div",23),e.YNc(45,E,3,3,"div",23),e.qZA(),e.TgZ(46,"div",13)(47,"div",14)(48,"div",15)(49,"input",16),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.user.organization=n)}),e.qZA(),e.TgZ(50,"label",24),e._uU(51),e.ALo(52,"translate"),e.qZA()()()(),e.TgZ(53,"div",13)(54,"div",14)(55,"div",15)(56,"input",16),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.user.designation=n)}),e.qZA(),e.TgZ(57,"label",17),e._uU(58),e.ALo(59,"translate"),e.qZA()()()(),e.YNc(60,S,2,1,"div",18),e.TgZ(61,"div",13)(62,"div",14)(63,"div",15)(64,"select",25),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.user.country=n)}),e.YNc(65,I,2,2,"option",26),e.qZA(),e.TgZ(66,"label",27),e._uU(67),e.ALo(68,"translate"),e.qZA()()()(),e.TgZ(69,"div",22),e.YNc(70,L,3,3,"div",23),e.qZA(),e.TgZ(71,"div",13)(72,"div",14)(73,"div",15)(74,"input",16),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.user.city=n)}),e.qZA(),e.TgZ(75,"label",28),e._uU(76),e.ALo(77,"translate"),e.qZA()()()(),e.TgZ(78,"div",22),e.YNc(79,j,3,3,"div",23),e.qZA(),e.TgZ(80,"div",13)(81,"div",14)(82,"div",15)(83,"input",16),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.user.address=n)}),e.qZA(),e.TgZ(84,"label",29),e._uU(85),e.ALo(86,"translate"),e.qZA()()()(),e.TgZ(87,"div",22),e.YNc(88,K,3,3,"div",30),e.qZA(),e.YNc(89,O,3,3,"button",31),e.YNc(90,Y,3,4,"button",32),e.YNc(91,F,2,0,"div",33),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(7),e.hij(" ",e.lcZ(8,60,"UPDATE PROFILE")," "),e.xp6(2),e.Q6J("ngIf",0==t.updateSuccess),e.xp6(4),e.Q6J("ngStyle",e.VKq(80,p,""==t.user.firstName?" 2px solid red":"2px solid #263a7f")),e.xp6(3),e.Q6J("ngModel",t.user.firstName)("ngModelOptions",e.DdM(82,a)),e.xp6(1),e.Q6J("ngClass",e.VKq(83,u,""!==t.user.firstName)),e.xp6(1),e.hij(" ",e.lcZ(19,62,"First Name*")," "),e.xp6(2),e.Q6J("ngIf",""==t.user.firstName),e.xp6(1),e.Q6J("ngStyle",e.VKq(85,p,""==t.user.lastName?" 2px solid red":"2px solid #263a7f")),e.xp6(3),e.Q6J("ngModel",t.user.lastName)("ngModelOptions",e.DdM(87,a)),e.xp6(1),e.Q6J("ngClass",e.VKq(88,u,""!==t.user.lastName)),e.xp6(1),e.hij(" ",e.lcZ(27,64,"Last Name*")," "),e.xp6(2),e.Q6J("ngIf",""==t.user.lastName),e.xp6(1),e.Q6J("ngStyle",e.VKq(90,p,""==t.user.username?" 2px solid red":"2px solid #263a7f")),e.xp6(3),e.Q6J("disabled",!0)("ngModel",t.user.username)("ngModelOptions",e.DdM(92,a)),e.xp6(1),e.Q6J("ngClass",e.VKq(93,u,""!==t.user.username)),e.xp6(1),e.hij(" ",e.lcZ(35,66,"Email*")," "),e.xp6(2),e.Q6J("ngStyle",e.VKq(95,p,""==t.user.phone?" 2px solid red":"2px solid #263a7f")),e.xp6(3),e.Q6J("ngModel",t.user.phone)("ngModelOptions",e.DdM(97,a)),e.xp6(1),e.Q6J("ngClass",e.VKq(98,u,""!==t.user.phone)),e.xp6(1),e.hij(" ",e.lcZ(42,68,"Contact Number*")," "),e.xp6(3),e.Q6J("ngIf",""==t.user.phone),e.xp6(1),e.Q6J("ngIf",t.user&&t.user.phone&&t.user.phone.length<11&&t.user.phone.length>0),e.xp6(1),e.Q6J("ngStyle",e.DdM(100,V)),e.xp6(3),e.Q6J("ngModel",t.user.organization)("ngModelOptions",e.DdM(101,a)),e.xp6(1),e.Q6J("ngClass",e.VKq(102,u,""!=t.user.organization)),e.xp6(1),e.hij(" ",e.lcZ(52,70,"Organization")," "),e.xp6(2),e.Q6J("ngStyle",e.VKq(104,p,""==t.user.designation?" 2px solid red":"2px solid #263a7f")),e.xp6(3),e.Q6J("ngModel",t.user.designation)("ngModelOptions",e.DdM(106,a)),e.xp6(1),e.Q6J("ngClass",e.VKq(107,u,""!==t.user.designation)),e.xp6(1),e.hij(" ",e.lcZ(59,72,"Designation*")," "),e.xp6(2),e.Q6J("ngIf",""==t.user.designation),e.xp6(1),e.Q6J("ngStyle",e.VKq(109,p,""==t.user.country?" 2px solid red":"2px solid #263a7f")),e.xp6(3),e.Q6J("ngModel",t.user.country)("ngModelOptions",e.DdM(111,a)),e.xp6(1),e.Q6J("ngForOf",t.countries),e.xp6(1),e.Q6J("ngClass",e.VKq(112,u,""!==t.user.country)),e.xp6(1),e.hij(" ",e.lcZ(68,74,"Country*")," "),e.xp6(3),e.Q6J("ngIf",""==t.user.country),e.xp6(1),e.Q6J("ngStyle",e.VKq(114,p,""==t.user.city?" 2px solid red":"2px solid #263a7f")),e.xp6(3),e.Q6J("ngModel",t.user.city)("ngModelOptions",e.DdM(116,a)),e.xp6(1),e.Q6J("ngClass",e.VKq(117,u,""!==t.user.city)),e.xp6(1),e.hij(" ",e.lcZ(77,76,"City*")," "),e.xp6(3),e.Q6J("ngIf",""==t.user.city),e.xp6(1),e.Q6J("ngStyle",e.VKq(119,p,""==t.user.address?" 2px solid red":"2px solid #263a7f")),e.xp6(3),e.Q6J("ngModel",t.user.address)("ngModelOptions",e.DdM(121,a)),e.xp6(1),e.Q6J("ngClass",e.VKq(122,u,""!==t.user.address)),e.xp6(1),e.hij(" ",e.lcZ(86,78,"Address*")," "),e.xp6(3),e.Q6J("ngIf",""==t.user.address),e.xp6(1),e.Q6J("ngIf",!t.loading&&!t.submitBtnLoader&&1==t.isFormValidated()),e.xp6(1),e.Q6J("ngIf",!t.loading&&!t.submitBtnLoader&&0==t.isFormValidated()),e.xp6(1),e.Q6J("ngIf",!t.loading&&t.submitBtnLoader)}}function z(i,s){1&i&&(e.TgZ(0,"div",43),e._UZ(1,"div",42),e.qZA())}const G=[{path:"",component:(()=>{class i{constructor(t,o,n,r,g){this._router=t,this.http=o,this.dialog=n,this._authService=r,this.profileApi=g,this.showPassword=!1,this.showConfirmPassword=!1,this.loading=!0,this.user={},this.updateSuccess=!1,this.submitBtnLoader=!1,this.countries=[]}ngOnInit(){this.http.get("/assets/countries.json").subscribe(t=>{this.countries=t}),this.profileApi.getUserProfileData().subscribe(t=>{if(t.errorcode||t.exception||0==t.length)return this._authService.signOut(),void this._router.navigate(["login"]);this.loading=!1;let o=0;if(t[0]){let n=t[0];if(n.username&&(this.user.username=n.username,o++),n.firstname&&(this.user.firstName=n.firstname,o++),n.lastname&&(this.user.lastName=n.lastname,o++),n.address?(this.user.address=n.address,o++):this.user.address="",n.phone1?(this.user.phone1=n.phone1,o++):this.user.phone1="",n.phone2?(this.user.phone2=n.phone2,o++):this.user.phone2="",n.country?(this.user.country=n.country,o++):this.user.country="",n.city?(this.user.city=n.city,o++):this.user.city="",this.user.timezone=localStorage.getItem("TimeZone"),n.customfields){let r=n.customfields,g=r.find(c=>"Organization"==c.name);this.user.organization=g?g.value:"";let _=r.find(c=>"Designation"==c.name);this.user.designation=_?_.value:"";let v=r.find(c=>"Phone number"==c.name);this.user.phone=v?v.value:""}(null==this.user.phone||null==this.user.phone)&&(this.user.phone=""),(null==this.user.designation||null==this.user.designation)&&(this.user.designation=""),(null==this.user.organization||null==this.user.organization)&&(this.user.organization=""),this.updateSuccess=o>=8&&void 0}})}updateProfile(){this.submitBtnLoader=!0,this.user.email=this.user.username,this.user.phone1=this.user.phone,this.user.phone2=this.user.phone,this.profileApi.updateUserProfileData(this.user).subscribe(t=>{if(this.submitBtnLoader=!1,t.warnings&&t.warnings[0]&&"usernotupdateddeleted"==t.warnings[0].warningcode)return this._authService.signOut(),void this._router.navigate(["login"]);t.exception?(localStorage.setItem("profile-status: ","0"),setTimeout(()=>{this.updateSuccess=!1,window.scroll(0,0)},1e3)):(localStorage.setItem("profile-status: ","88924"),window.scroll(0,0),this.updateSuccess=!0,localStorage.setItem("user-firstname",this.user?.firstName),this.dialog.open(Z))},t=>{this.submitBtnLoader=!1,localStorage.setItem("profile-status: ","0"),setTimeout(()=>{this.updateSuccess=!1,window.scroll(0,0)},1e3)})}isFormValidated(){return!!(this.user.firstName&&""!=this.user.firstName&&this.user.lastName&&""!=this.user.lastName&&this.user.phone&&""!=this.user.phone&&!(this.user.phone.length<11)&&this.user.designation&&""!=this.user.designation&&this.user.country&&""!=this.user.country&&this.user.city&&""!=this.user.city&&this.user.address&&""!=this.user.address)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.F0),e.Y36(C.eN),e.Y36(x.uw),e.Y36(T.e),e.Y36(M.i))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-profile"]],viewQuery:function(t,o){if(1&t&&e.Gf(y,5),2&t){let n;e.iGM(n=e.CRH())&&(o.UpdateProfileForm=n.first)}},decls:3,vars:2,consts:[["class","container m-auto grid grid-cols-1 md:grid-cols-2 gap-1 lg:m-auto xl:h-auto overflow-hidden bg-vumi-white",4,"ngIf"],["class","flex min-h-screen justify-center items-center",4,"ngIf"],[1,"container","m-auto","grid","grid-cols-1","md:grid-cols-2","gap-1","lg:m-auto","xl:h-auto","overflow-hidden","bg-vumi-white"],[1,"image-section","order-last","mt-2","md:mt-0","md:order-none"],["src","assets/images/signup-img.webp","alt","",1,"block","md:hidden"],["src","assets/images/login/login.webp",1,"hidden","md:block","md:-ml-1/4"],[1,"form-section","p-2","py-6","md:w-2/3"],[1,"md:flex","md:my-2"],[1,"font-bold","text-vumi-orange","text-3xl","lg:text-4xl"],["class","text-bold my-3 mb-4 md:mb-0 text-white md:h-6",4,"ngIf"],[1,"mt-6",3,"ngSubmit"],["profileUpdateForm",""],[1,"login-form","flex","flex-col"],[1,"my-5",3,"ngStyle"],[1,"label","flex","items-center"],[1,"relative","w-full"],["type","text","required","true","matInput","",1,"peer","w-full","pt-1",3,"ngModel","ngModelOptions","ngModelChange"],["for","email",1,"flex","text-vumi-blue","font-bold","items-center","transition-all","absolute","left-0","-top-5","peer-focus:-top-4",3,"ngClass"],["class","alert alert-danger",4,"ngIf"],["type","text","matInput","",1,"cursor-not-allowed","peer","w-full","pt-1",3,"disabled","ngModel","ngModelOptions","ngModelChange"],["type","text","required","true","matInput","","minlength","11","maxlength","11",1,"peer","w-full","pt-1",3,"ngModel","ngModelOptions","ngModelChange"],["for","phone",1,"flex","text-vumi-blue","font-bold","items-center","transition-all","absolute","left-0","-top-5","peer-focus:-top-4",3,"ngClass"],[1,"alert","alert-danger"],["class","text-vumi-orange -mt-2 font-semibold mb-2",4,"ngIf"],["for","organization",1,"flex","text-vumi-blue","font-bold","items-center","transition-all","absolute","left-0","-top-5","peer-focus:-top-4",3,"ngClass"],[1,"peer","bg-vumi-white","rounded-none","select-box",2,"width","150%","appearance","none","border-radius","0",3,"ngModel","ngModelOptions","ngModelChange"],["class","drop-box font-[700] rounded-none",3,"value",4,"ngFor","ngForOf"],["for","country",1,"flex","text-vumi-blue","font-bold","items-center","transition-all","absolute","left-0","-top-5","peer-focus:-top-4",3,"ngClass"],["for","city",1,"flex","text-vumi-blue","font-bold","items-center","transition-all","absolute","left-0","-top-5","peer-focus:-top-4",3,"ngClass"],["for","address",1,"flex","text-vumi-blue","font-bold","items-center","transition-all","absolute","left-0","-top-5","peer-focus:-top-4",3,"ngClass"],["class","text-vumi-orange -mt-2 mb-3 font-semibold",4,"ngIf"],["style","filter: drop-shadow(0px 4px 4px rgb(35, 6, 1,0.3))","class","rounded-[1px]\n                        bg-vumi-orange text-white infxs:text-base sm:text-lg p-3 font-bold mb-4",4,"ngIf"],["class","bg-gray-300 text-white p-3 font-bold mb-4 cursor-not-allowed",3,"disabled",4,"ngIf"],["class","flex justify-center items-center",4,"ngIf"],[1,"text-bold","my-3","mb-4","md:mb-0","text-white","md:h-6"],[1,"mx-auto","text-vumi-orange","font-bold"],[1,"text-vumi-orange","-mt-2","font-semibold","mb-2"],[1,"drop-box","font-[700]","rounded-none",3,"value"],[1,"text-vumi-orange","-mt-2","mb-3","font-semibold"],[1,"rounded-[1px]","bg-vumi-orange","text-white","infxs:text-base","sm:text-lg","p-3","font-bold","mb-4",2,"filter","drop-shadow(0px 4px 4px rgb(35, 6, 1,0.3))"],[1,"bg-gray-300","text-white","p-3","font-bold","mb-4","cursor-not-allowed",3,"disabled"],[1,"flex","justify-center","items-center"],[1,"loader"],[1,"flex","min-h-screen","justify-center","items-center"]],template:function(t,o){1&t&&(e.TgZ(0,"div"),e.YNc(1,D,92,124,"div",0),e.YNc(2,z,2,0,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",0==o.loading),e.xp6(1),e.Q6J("ngIf",1==o.loading))},dependencies:[f.mk,f.sg,f.O5,f.PC,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.JL,d.Q7,d.wO,d.nD,d.On,d.F,A.X$],styles:[".loader[_ngcontent-%COMP%]{border:14px solid #f3f3f3;border-top:8px solid #3498db;border-radius:50%;width:60px;height:60px;animation:spin .5s linear infinite}select[_ngcontent-%COMP%]:focus{padding:5px!important}.drop-box[_ngcontent-%COMP%], .select-box[_ngcontent-%COMP%]{border-radius:0!important}"]}),i})()}];let H=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[f.ez,m.Bz.forChild(G),b.m]}),i})()}}]);