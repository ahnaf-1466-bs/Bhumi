<div
    class="container m-auto grid grid-cols-1 md:grid-cols-2 gap-1 lg:m-auto xl:h-auto overflow-hidden"
>
    <div class="image-section order-last mt-2 md:mt-0 md:order-none">
        <img
            src="assets/images/signup-img.webp"
            alt=""
            class="block md:hidden"
        />

        <img
            class="hidden md:block md:-ml-1/4"
            src="assets/images/login/login.webp"
        />
    </div>

    <div class="form-section p-2 md:w-2/3">
        <div class="w-full mt-8 md:mt-18 md:flex md:gap-x-4 md:space-around">
            <button
                class="button-vumi -pl-3 sm:-pl-0 w-full my-5 lg:my-0 md:grow lg:w-32 lg:pl-2 lg:pr-2 bg-vumi-blue text-white p-2"
                i18n
                (click)="getIssuerID('google')"
            >
                <i class="fab fa-google text-[32px] text-vumi-white mr-2"></i>
                <span>{{ "Google" | translate }}</span>
            </button>

            <button
                class="button-vumi w-full my-5 lg:my-0 md:grow lg:w-32 lg:pl-2 lg:pr-2 bg-vumi-blue text-white p-2"
                i18n
                (click)="getIssuerID('linkedin')"
            >
                <i class="fab fa-linkedin text-[32px] text-vumi-white mr-2"></i>
                <span> {{ "Linkedin" | translate }}</span>
            </button>

            <button
                class="button-vumi w-full my-5 lg:my-0 md:grow lg:w-32 lg:pl-2 lg:pr-2 bg-vumi-blue text-white p-2"
                i18n
                (click)="getIssuerID('facebook')"
            >
                <i class="fab fa-facebook text-[32px] text-vumi-white mr-2"></i>
                <span>{{ "Facebook" | translate }}</span>
            </button>
        </div>

        <form
            action=""
            class="mt-10"
            [formGroup]="formInfo"
            #LogInNgForm="ngForm"
            (ngSubmit)="register()"
        >
            <div class="login-form flex flex-col">
                <div
                    class="my-5"
                    [ngStyle]="{
                        'border-bottom':
                            formInfo.get('firstName').invalid &&
                            (formInfo.get('firstName').dirty ||
                                formInfo.get('firstName').touched)
                                ? ' 2px solid red'
                                : '2px solid #263a7f'
                    }"
                >
                    <div class="label flex items-center">
                        <div class="relative w-full">
                            <input
                                id="firstName"
                                type="text"
                                matInput
                                [formControlName]="'firstName'"
                                class="peer py-1"
                                #firstName
                            />
                            <label
                                [ngClass]="{
                                    '-top-6':
                                        formInfo.get('firstName').value !== ''
                                }"
                                for="email"
                                class="flex text-vumi-blue font-bold items-center transition-all absolute left-0 -top-4 peer-focus:-top-4"
                            >
                                {{ "First Name*" | translate }}
                            </label>
                        </div>
                    </div>
                </div>
                <div
                    *ngIf="
                        formInfo.get('firstName').invalid &&
                        (formInfo.get('firstName').dirty ||
                            formInfo.get('firstName').touched)
                    "
                    class="alert alert-danger"
                >
                    <div
                        *ngIf="formInfo.get('firstName').errors?.['required']"
                        class="text-vumi-orange -mt-2 font-semibold"
                    >
                        {{ "*First Name is required" | translate }}
                    </div>
                </div>

                <div
                    class="my-5"
                    [ngStyle]="{
                        'border-bottom':
                            formInfo.get('lastName').invalid &&
                            (formInfo.get('lastName').dirty ||
                                formInfo.get('lastName').touched)
                                ? ' 2px solid red'
                                : '2px solid #263a7f'
                    }"
                >
                    <div class="label flex items-center">
                        <div class="relative w-full">
                            <input
                                id="lastName"
                                type="text"
                                matInput
                                [formControlName]="'lastName'"
                                class="peer py-1"
                            />
                            <label
                                [ngClass]="{
                                    '-top-6':
                                        formInfo.get('lastName').value !== ''
                                }"
                                for="email"
                                class="flex text-vumi-blue font-bold items-center transition-all absolute left-0 -top-4 peer-focus:-top-4"
                            >
                                {{ "Last Name*" | translate }}
                            </label>
                        </div>
                    </div>
                </div>

                <div
                    *ngIf="
                        formInfo.get('lastName').invalid &&
                        (formInfo.get('lastName').dirty ||
                            formInfo.get('lastName').touched)
                    "
                    class="alert alert-danger"
                >
                    <div
                        *ngIf="formInfo.get('lastName').errors?.['required']"
                        class="text-vumi-orange -mt-2 font-semibold mb-1"
                    >
                        {{ "*Last Name Name is required" | translate }}
                    </div>
                </div>

                <div
                    class="my-5"
                    [ngStyle]="{
                        'border-bottom':
                            duplicateMail == true ||
                            (formInfo.get('username').invalid &&
                                (formInfo.get('username').dirty ||
                                    formInfo.get('username').touched))
                                ? ' 2px solid red'
                                : '2px solid #263a7f'
                    }"
                >
                    <div class="label flex items-center">
                        <div class="relative w-full">
                            <input
                                id="username"
                                [formControlName]="'username'"
                                class="peer py-1"
                                type="email"
                                email="true"
                                (click)="onMouseDown($event)"
                            />
                            <label
                                [ngClass]="{
                                    '-top-6':
                                        formInfo.get('username').value !== ''
                                }"
                                for="username"
                                class="flex text-vumi-blue font-bold items-center transition-all absolute left-0 -top-4 peer-focus:-top-4"
                            >
                                {{ "Email*" | translate }}
                            </label>
                        </div>
                    </div>
                </div>

                <div
                    *ngIf="
                        formInfo.get('username').invalid &&
                        (formInfo.get('username').dirty ||
                            formInfo.get('username').touched)
                    "
                    class="alert alert-danger"
                >
                    <div
                        *ngIf="formInfo.get('username').errors?.['required']"
                        class="text-vumi-orange -mt-2 font-semibold"
                    >
                        {{ "*Email is required" | translate }}
                    </div>

                    <div
                        *ngIf="formInfo.get('username').errors.pattern"
                        class="text-vumi-orange -mt-2 font-semibold"
                    >
                        {{ "*Invalid Email" | translate }}
                    </div>
                </div>

                <div>
                    <div
                        *ngIf="duplicateMail"
                        class="text-vumi-orange mb-4 -mt-2 font-semibold"
                    >
                        {{ "*Please try with another email" | translate }}
                    </div>
                </div>

                <div
                    class="my-5"
                    [ngStyle]="{
                        'border-bottom':
                            formInfo.get('phone').invalid &&
                            (formInfo.get('phone').dirty ||
                                formInfo.get('phone').touched)
                                ? ' 2px solid red'
                                : '2px solid #263a7f'
                    }"
                >
                    <div class="label flex items-center">
                        <div class="relative w-full">
                            <input
                                id="phone"
                                type="text"
                                matInput
                                [formControlName]="'phone'"
                                class="peer py-1"
                                required="true"
                                minlength="11"
                                maxlength="11"
                            />
                            <label
                                [ngClass]="{
                                    '-top-6': formInfo.get('phone').value !== ''
                                }"
                                for="phone"
                                class="flex text-vumi-blue font-bold items-center transition-all absolute left-0 -top-4 peer-focus:-top-4"
                            >
                                {{ "Contact Number*" | translate }}
                            </label>
                        </div>
                    </div>
                </div>

                <div
                    *ngIf="
                        formInfo.get('phone').invalid &&
                        (formInfo.get('phone').dirty ||
                            formInfo.get('phone').touched)
                    "
                    class="alert alert-danger"
                >
                    <div
                        *ngIf="formInfo.get('phone').errors?.['required']"
                        class="text-vumi-orange -mt-2 font-semibold"
                    >
                        {{ "*Contact number is required" | translate }}
                    </div>

                    <div
                        *ngIf="formInfo.get('phone').errors?.['minlength']"
                        class="text-vumi-orange -mt-2 font-semibold"
                    >
                        {{
                            "*Contact number must be 11 characters long"
                                | translate
                        }}
                    </div>
                </div>

                <div
                    class="my-5"
                    [ngStyle]="{
                        'border-bottom':
                            formInfo.get('organization').invalid &&
                            (formInfo.get('organization').dirty ||
                                formInfo.get('organization').touched)
                                ? ' 2px solid red'
                                : '2px solid #263a7f'
                    }"
                >
                    <div class="label flex items-center">
                        <div class="relative w-full">
                            <input
                                id="organization"
                                type="text"
                                matInput
                                [formControlName]="'organization'"
                                class="peer py-1"
                            />
                            <label
                                [ngClass]="{
                                    '-top-6':
                                        formInfo.get('organization').value !==
                                        ''
                                }"
                                for="organization"
                                class="flex text-vumi-blue font-bold items-center transition-all absolute left-0 -top-4 peer-focus:-top-4"
                            >
                                {{ "Organization" | translate }}
                            </label>
                        </div>
                    </div>
                </div>

                <div
                    class="my-5"
                    [ngStyle]="{
                        'border-bottom':
                            formInfo.get('designation').invalid &&
                            (formInfo.get('designation').dirty ||
                                formInfo.get('designation').touched)
                                ? ' 2px solid red'
                                : '2px solid #263a7f'
                    }"
                >
                    <div class="label flex items-center">
                        <div class="relative w-full">
                            <input
                                id="designation"
                                type="text"
                                matInput
                                [formControlName]="'designation'"
                                class="peer py-1"
                            />
                            <label
                                [ngClass]="{
                                    '-top-6':
                                        formInfo.get('designation').value !== ''
                                }"
                                for="designation"
                                class="flex text-vumi-blue font-bold items-center transition-all absolute left-0 -top-4 peer-focus:-top-4"
                            >
                                {{ "Designation*" | translate }}
                            </label>
                        </div>
                    </div>
                </div>

                <div
                    *ngIf="
                        formInfo.get('designation').invalid &&
                        (formInfo.get('designation').dirty ||
                            formInfo.get('designation').touched)
                    "
                    class="alert alert-danger"
                >
                    <div
                        *ngIf="formInfo.get('designation').errors?.['required']"
                        class="text-vumi-orange -mt-2 font-semibold"
                    >
                        {{ "*Designation is required" | translate }}
                    </div>
                </div>

                <div
                    class="max-w-full flex justify-between md:justify-between my-5"
                    [ngStyle]="{
                        'border-bottom':
                            formInfo.get('password').invalid &&
                            (formInfo.get('password').dirty ||
                                formInfo.get('password').touched)
                                ? ' 2px solid red'
                                : '2px solid #263a7f'
                    }"
                >
                    <div class="label flex items-center w-full">
                        <div class="relative w-full">
                            <input
                                id="password"
                                type="password"
                                [formControlName]="'password'"
                                #passwordField
                                class="peer py-1"
                                required="true"
                                minlength="8"
                            />
                            <label
                                for="password"
                                [ngClass]="{
                                    '-top-6':
                                        formInfo.get('password').value !== ''
                                }"
                                class="flex text-vumi-blue font-bold items-center transition-all absolute left-0 -top-4 mt-1 peer-focus:-top-4"
                            >
                                {{ "Password*" | translate }}
                            </label>
                        </div>
                    </div>
                    <div>
                        <button
                            mat-icon-button
                            type="button"
                            (click)="
                                passwordField.type === 'password'
                                    ? (passwordField.type = 'text')
                                    : (passwordField.type = 'password')
                            "
                            matSuffix
                        >
                            <mat-icon
                                class="icon-size-5"
                                *ngIf="passwordField.type === 'password'"
                                [svgIcon]="'heroicons_solid:eye'"
                            ></mat-icon>
                            <mat-icon
                                class="icon-size-5"
                                *ngIf="passwordField.type === 'text'"
                                [svgIcon]="'heroicons_solid:eye-off'"
                            ></mat-icon>
                        </button>
                    </div>
                </div>

                <div
                    *ngIf="
                        formInfo.get('password').invalid &&
                        (formInfo.get('password').dirty ||
                            formInfo.get('password').touched)
                    "
                    class="alert alert-danger"
                >
                    <div
                        *ngIf="formInfo.get('password').errors?.['required']"
                        class="text-vumi-orange -mt-2 font-semibold"
                    >
                        {{ "*Password is required" | translate }}
                    </div>

                    <div
                        *ngIf="formInfo.get('password').errors.pattern"
                        class="text-vumi-orange -mt-2 font-semibold"
                    >
                        {{
                            "*Password must be have at least one number, one uppercase, one lowercase and one special character and 8 characters"
                                | translate
                        }}
                    </div>
                </div>

                <div
                    class="max-w-full flex justify-between md:justify-between my-5"
                    [ngStyle]="{
                        'border-bottom':
                            formInfo.get('confirmPassword').invalid &&
                            (formInfo.get('confirmPassword').dirty ||
                                formInfo.get('confirmPassword').touched)
                                ? ' 2px solid red'
                                : '2px solid #263a7f'
                    }"
                >
                    <div class="label flex items-center w-full">
                        <div class="relative w-full">
                            <input
                                id="confirmPassword"
                                type="password"
                                [formControlName]="'confirmPassword'"
                                #confirmPassword
                                class="peer py-1"
                            />
                            <label
                                for="confirmPassword"
                                [ngClass]="{
                                    '-top-6':
                                        formInfo.get('confirmPassword')
                                            .value !== ''
                                }"
                                for=""
                                class="flex text-vumi-blue font-bold items-center transition-all absolute left-0 -top-4 peer-focus:-top-4"
                            >
                                {{ "Confirm Password*" | translate }}
                            </label>
                        </div>
                    </div>
                    <button
                        mat-icon-button
                        type="button"
                        (click)="
                            confirmPassword.type === 'password'
                                ? (confirmPassword.type = 'text')
                                : (confirmPassword.type = 'password')
                        "
                        matSuffix
                    >
                        <mat-icon
                            class="icon-size-5"
                            *ngIf="confirmPassword.type === 'password'"
                            [svgIcon]="'heroicons_solid:eye'"
                        ></mat-icon>
                        <mat-icon
                            class="icon-size-5"
                            *ngIf="confirmPassword.type === 'text'"
                            [svgIcon]="'heroicons_solid:eye-off'"
                        ></mat-icon>
                    </button>
                </div>

                <div
                    *ngIf="
                        formInfo.get('confirmPassword').touched ||
                        formInfo.get('confirmPassword').dirty
                    "
                >
                    <div
                        *ngIf="formInfo.get('confirmPassword').errors?.['required']"
                        class="text-vumi-orange -mt-2 font-semibold mb-4"
                    >
                        {{ "*Confirm password is required" | translate }}
                    </div>

                    <div
                        *ngIf="formInfo.get('confirmPassword').errors?.['minlength']"
                        class="text-vumi-orange -mt-2 font-semibold mb-4"
                    >
                        *Confirm password must be at least 8 characters long.
                    </div>

                    <div
                        *ngIf="
                            formInfo
                                .get('confirmPassword')
                                .hasError('matchPassword')
                        "
                        class="text-vumi-orange -mt-2 font-semibold mb-4"
                    >
                        {{ "*Passwords do not match" | translate }}
                    </div>
                </div>

                <button
                    *ngIf="
                        (formInfo.invalid ||
                            givenPassword !== givenConfirmpassword) &&
                        !loading
                    "
                    [disabled]="true"
                    class="bg-gray-300 text-white p-3 font-bold cursor-not-allowed"
                >
                    {{ "Submit" | translate }}
                </button>

                <button
                    *ngIf="
                        !formInfo.invalid &&
                        givenPassword === givenConfirmpassword &&
                        !loading
                    "
                    style="filter: drop-shadow(0px 4px 4px rgb(35, 6, 1,0.3))"
                    class="rounded-[1px]
                    bg-vumi-orange text-white infxs:text-base sm:text-lg p-3 font-bold"
                >
                    {{ "Submit" | translate }}
                </button>

                <div *ngIf="loading" class="flex justify-center items-center">
                    <div class="loader"></div>
                </div>

                <p
                    class="text-center mt-5 mb-4 text-vumi-blue font-medium font-sans"
                >
                    {{ "Already have an account?" | translate
                    }}<a
                        class="text-vumi-orange text-bold ml-4 font-medium font-sans"
                        routerLink="/login"
                        >{{ "Log In" | translate }}</a
                    >
                </p>
            </div>
        </form>
    </div>
</div>
